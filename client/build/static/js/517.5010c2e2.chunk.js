"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[517],{8517:function(e,l,a){a.r(l),a.d(l,{default:function(){return P}});var n=a(4165),i=a(4942),r=a(1413),u=a(5861),t=a(9439),o=a(2791),s=a(9743),d=a(2677),c=a(3360),v=a(2592),m=a(3855),b=a(2506),f=a(8171),h=a(9177),p=a(8007),g=p.Ry().shape({name:p.Z_().required("Package Name is a required field"),recurring:p.Z_().required("Billing Cycle is a required field"),amount:p.Rx().required("Cost is a required field")}),_=a(9365),x=a(9689),N=a(1260),Z=a(5073),j=a(6504),M=a(3585),y=a(184),S=function(e){var l=(0,o.useState)(!1),a=(0,t.Z)(l,2),i=(a[0],a[1],(0,o.useState)(!1)),s=(0,t.Z)(i,2),d=(s[0],s[1]),v=(0,o.useState)(!1),p=(0,t.Z)(v,2),S=p[0],C=p[1],w=(0,o.useState)(!1),P=(0,t.Z)(w,2),A=P[0],k=P[1],B=(0,b.TA)({initialValues:j.KZ,validationSchema:g,onSubmit:function(){var l=(0,u.Z)((0,n.Z)().mark((function l(){var a,i,r;return(0,n.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return d(!0),a={amount:null===F||void 0===F?void 0:F.amount,name:null===F||void 0===F?void 0:F.name},i=M.CN.find((function(e){return e.value==parseInt(null===F||void 0===F?void 0:F.recurring)})),a.recurringObj={interval:null===i||void 0===i?void 0:i.interval,interval_count:null===i||void 0===i?void 0:i.interval_count},l.next=6,(0,_.VF)(a);case 6:null!==(r=l.sent)&&void 0!==r&&r.status?(T(),C(null===r||void 0===r?void 0:r.message),setTimeout((function(){e.onHide(!0)}),2e3)):k(r.message);case 8:case"end":return l.stop()}}),l)})));return function(){return l.apply(this,arguments)}}()}),T=B.resetForm,q=B.handleSubmit,D=B.handleChange,E=B.handleBlur,F=B.values,I=B.touched,H=B.errors,U=B.isSubmitting;return(0,y.jsx)("div",{className:"feedback-wrapper",children:(0,y.jsx)(x.Z,(0,r.Z)((0,r.Z)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",className:"add-user-modal",centered:!0,children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(x.Z.Header,{className:"heading border-bottom-0 p-0 font-semi-bold-20 text-center",children:"Add New Subscription"}),(0,y.jsxs)(x.Z.Body,{className:"change-password-body p-0 pt-2  text-center",children:[(0,y.jsxs)("form",{onSubmit:q,className:"w-75",autoComplete:"off",children:[(0,y.jsxs)("div",{className:H.name&&I.name?"emailredborder inputdiv":"inputdiv",children:[(0,y.jsx)("span",{className:"text-label",children:"Package Name"}),(0,y.jsx)(h.Z,{label:"Package Name",name:"name",type:"text",onChange:D,onBlur:E,value:null===F||void 0===F?void 0:F.name,className:"mt-2 form-control ".concat(I&&I[null===F||void 0===F?void 0:F.name]&&H[null===F||void 0===F?void 0:F.name]?"is-invalid":"")}),(0,y.jsx)(f.Z,{errormsg:null===H||void 0===H?void 0:H.name,touchedmsg:null===I||void 0===I?void 0:I.name})]}),(0,y.jsxs)("div",{className:H.amount&&I.amount?"emailredborder inputdiv":"inputdiv",children:[(0,y.jsx)("span",{className:"text-label",children:"Cost"}),(0,y.jsx)(h.Z,{label:"Please enter cost",name:"amount",type:"number",onChange:D,onBlur:E,value:null===F||void 0===F?void 0:F.amount,className:"mt-2 form-control ".concat(I&&I[null===F||void 0===F?void 0:F.amount]&&H[null===F||void 0===F?void 0:F.amount]?"is-invalid":"")}),(0,y.jsx)(f.Z,{errormsg:null===H||void 0===H?void 0:H.amount,touchedmsg:null===I||void 0===I?void 0:I.amount})]}),(0,y.jsxs)("div",{className:H.recurring&&I.recurring?"emailredborder inputdiv":"inputdiv",children:[(0,y.jsx)("span",{className:"text-label",children:"Billing Cycle"}),(0,y.jsxs)(m.Z.Select,{label:"Select Billing Cycle",name:"recurring",onChange:D,onBlur:E,value:null===F||void 0===F?void 0:F.recurring,className:"mt-2 form-control role-edit-select ".concat(I&&I[null===F||void 0===F?void 0:F.recurring]&&H[null===F||void 0===F?void 0:F.recurring]?"is-invalid":""),children:[(0,y.jsx)("option",{value:"billingcycle",disabled:!0,className:"role-item",children:"Billing Cycle"}),null===M.CN||void 0===M.CN?void 0:M.CN.map((function(e,l){return(0,y.jsx)("option",{value:null===e||void 0===e?void 0:e.value,className:"role-item",children:null===e||void 0===e?void 0:e.label},l+1)}))]}),(0,y.jsx)(f.Z,{errormsg:null===H||void 0===H?void 0:H.recurring,touchedmsg:null===I||void 0===I?void 0:I.recurring})]}),(0,y.jsxs)("div",{className:"edit-btns",children:[(0,y.jsx)(c.Z,{variant:"",className:"w-50 rounded-pill cancel-btn",type:"button",onClick:function(){T(),null===e||void 0===e||e.onHide()},disabled:!!U,children:"Cancel"}),(0,y.jsx)(c.Z,{variant:"",className:"w-50 rounded-pill save-btn",type:"submit",disabled:!!U,children:"Save"})]})]}),A&&(0,y.jsx)(N.Z,{errormsg:A}),S&&(0,y.jsx)(Z.Z,{successmsg:S})]})]})}))})},C=a(7467),w=a(304),P=function(){var e=(0,o.useState)({}),l=(0,t.Z)(e,2),a=l[0],p=l[1],x=(0,o.useState)(!1),N=(0,t.Z)(x,2),Z=N[0],P=N[1],A=(0,o.useState)(null),k=(0,t.Z)(A,2),B=k[0],T=k[1],q=(0,o.useState)([]),D=(0,t.Z)(q,2),E=D[0],F=D[1],I=(0,o.useState)([]),H=(0,t.Z)(I,2),U=(H[0],H[1]),L=(0,o.useState)(j.KZ),O=(0,t.Z)(L,2),R=O[0],V=O[1],W=(0,o.useState)(!0),K=(0,t.Z)(W,2),Y=(K[0],K[1],(0,o.useState)(null)),z=(0,t.Z)(Y,2),$=z[0],J=(z[1],(0,o.useState)(!1)),X=(0,t.Z)(J,2),G=(X[0],X[1]),Q=(0,o.useState)(!1),ee=(0,t.Z)(Q,2),le=(ee[0],ee[1]),ae=(0,o.useState)(!1),ne=(0,t.Z)(ae,2),ie=ne[0],re=ne[1];function ue(){return te.apply(this,arguments)}function te(){return(te=(0,u.Z)((0,n.Z)().mark((function e(){var l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.tJ)();case 2:null!==(l=e.sent)&&void 0!==l&&l.status?(F(null===l||void 0===l?void 0:l.data),P(!1),U(null===l||void 0===l?void 0:l.data)):P(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,o.useEffect)((function(){P(!0),ue()}),[]),(0,o.useEffect)((function(){if(B){var e=E.find((function(e){return e.id===B}));if(e&&null===$){var l=M.CN.find((function(l){return l.interval===e.recurring_interval&&l.interval_count===e.recurring_count}));V((0,r.Z)((0,r.Z)({},e),{},{amount:(null===e||void 0===e?void 0:e.amount)/100,recurring:null===l||void 0===l?void 0:l.value}))}}}),[B,E]);var oe=(0,b.TA)({initialValues:j.KZ,validationSchema:g,onSubmit:function(){var e=(0,u.Z)((0,n.Z)().mark((function e(){var l,a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),l=(0,r.Z)((0,r.Z)({},me),{},{amount:null===me||void 0===me?void 0:me.amount,name:null===me||void 0===me?void 0:me.name}),a=M.CN.find((function(e){return e.value==parseInt(null===me||void 0===me?void 0:me.recurring)})),l.recurringObj={interval:null===a||void 0===a?void 0:a.interval,interval_count:null===a||void 0===a?void 0:a.interval_count},e.next=6,(0,_.Mg)(l,null===me||void 0===me?void 0:me.id);case 6:null!==(i=e.sent)&&void 0!==i&&i.status?(ue(),G(null===i||void 0===i?void 0:i.message),ge()):le(i.message),setTimeout((function(){G(null),le(null),P(!1)}),2e3);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),se=oe.resetForm,de=oe.handleSubmit,ce=oe.handleChange,ve=oe.handleBlur,me=oe.values,be=oe.touched,fe=oe.setFieldValue,he=oe.errors,pe=oe.isSubmitting;(0,o.useEffect)((function(){R.id&&Object.keys(R).forEach((function(e){return fe(e,R[e]||"",!1)}))}),[R]);var ge=function(){se(),T(null),p({}),re(!1)};return(0,y.jsxs)("div",{className:"subscription",children:[(0,y.jsx)(s.Z,{className:"first-row",children:(0,y.jsxs)(d.Z,{className:"d-flex user-heading-col",md:5,children:[(0,y.jsx)("div",{className:"users-heading",children:(0,y.jsx)("span",{className:"heading-txt",children:"Subscription"})}),(0,y.jsx)("div",{className:"add-user",children:(0,y.jsxs)(c.Z,{variant:"primary",className:"add-user-btn",onClick:function(){return re(!0)},children:[(0,y.jsx)(v.Z,{src:null===C.Z||void 0===C.Z?void 0:C.Z.addusericon,alt:"Button image",width:"30",height:"30",className:"d-inline-block align-top"}),"Add New"]})})]})}),(0,y.jsxs)(s.Z,{className:"second-row",children:[(0,y.jsxs)(d.Z,{className:"second-row-first-col border-right",md:3,children:[Z&&(0,y.jsx)(w.Z,{loadingMsg:"loading.."}),(0,y.jsx)("div",{className:"user-data-card",children:null===E||void 0===E?void 0:E.map((function(e,l){return(0,y.jsxs)("div",{className:"".concat(!0===a[null===e||void 0===e?void 0:e.id]?"user-card greenbg":"user-card"),onClick:function(){var l;(l=null===e||void 0===e?void 0:e.id)===B?(T(null),p({})):(T(l),p((0,i.Z)({},l,!0)))},children:[(0,y.jsx)("div",{className:"user-name",children:(0,y.jsxs)("div",{className:"user-card-first-row",children:[(0,y.jsx)("div",{className:"child-div",children:(0,y.jsx)("span",{className:"user-fullname",children:null===e||void 0===e?void 0:e.name})}),(0,y.jsx)("div",{className:"user-delete",children:(0,y.jsx)("img",{src:null===C.Z||void 0===C.Z?void 0:C.Z.deleteuser,className:"delete-user-img",alt:"delete user img NP"})})]})}),(0,y.jsxs)("div",{className:"user-phone d-flex",children:[(0,y.jsx)("img",{src:null===C.Z||void 0===C.Z?void 0:C.Z.subscription,alt:"email icon",className:"email-img"}),(0,y.jsx)("span",{className:"email-text",children:(null===e||void 0===e?void 0:e.amount)/100})]})]},l)}))})]}),(0,y.jsx)(d.Z,{className:"second-row-second-col",md:4,children:(0,y.jsxs)("div",{className:"second-row-second-col-div",children:[(0,y.jsx)("div",{className:"edit-card-heading",children:"Details"}),(0,y.jsxs)("form",{onSubmit:de,className:"w-75",autoComplete:"off",children:[(0,y.jsxs)("div",{className:he.name&&be.name?"emailredborder inputdiv":"inputdiv",children:[(0,y.jsx)("span",{className:"text-label",children:"Package Name"}),(0,y.jsx)(h.Z,{label:"Package Name",name:"name",type:"text",onChange:ce,onBlur:ve,value:null===me||void 0===me?void 0:me.name,className:"mt-2 form-control ".concat(be&&be[null===me||void 0===me?void 0:me.name]&&he[null===me||void 0===me?void 0:me.name]?"is-invalid":"")}),(0,y.jsx)(f.Z,{errormsg:null===he||void 0===he?void 0:he.name,touchedmsg:null===be||void 0===be?void 0:be.name})]}),(0,y.jsxs)("div",{className:he.amount&&be.amount?"emailredborder inputdiv":"inputdiv",children:[(0,y.jsx)("span",{className:"text-label",children:"Cost"}),(0,y.jsx)(h.Z,{label:"Please enter cost",name:"amount",type:"number",onChange:ce,onBlur:ve,value:null===me||void 0===me?void 0:me.amount,className:"mt-2 form-control ".concat(be&&be[null===me||void 0===me?void 0:me.amount]&&he[null===me||void 0===me?void 0:me.amount]?"is-invalid":"")}),(0,y.jsx)(f.Z,{errormsg:null===he||void 0===he?void 0:he.amount,touchedmsg:null===be||void 0===be?void 0:be.amount})]}),(0,y.jsxs)("div",{className:he.recurring&&be.recurring?"emailredborder inputdiv":"inputdiv",children:[(0,y.jsx)("span",{className:"text-label",children:"Billing Cycle"}),(0,y.jsxs)(m.Z.Select,{required:!0,label:"Select Billing Cycle",name:"recurring",onChange:ce,onBlur:ve,value:null===me||void 0===me?void 0:me.recurring,className:"mt-2 form-control role-edit-select ".concat(be&&be[null===me||void 0===me?void 0:me.recurring]&&he[null===me||void 0===me?void 0:me.recurring]?"is-invalid":""),children:[(0,y.jsx)("option",{value:"",disabled:!0,className:"role-item",children:"Billing Cycle"}),null===M.CN||void 0===M.CN?void 0:M.CN.map((function(e,l){return(0,y.jsx)("option",{value:null===e||void 0===e?void 0:e.value,className:"role-item",children:null===e||void 0===e?void 0:e.label},l+1)}))]}),(0,y.jsx)(f.Z,{errormsg:null===he||void 0===he?void 0:he.recurring,touchedmsg:null===be||void 0===be?void 0:be.recurring})]}),Z&&pe&&(0,y.jsx)(w.Z,{loadingMsg:"Updating.."}),(0,y.jsxs)("div",{className:"edit-btns",children:[(0,y.jsx)(c.Z,{variant:"",className:"w-50 rounded-pill cancel-btn",type:"button",onClick:ge,disabled:!(!pe&&void 0!==(null===me||void 0===me?void 0:me.id)),children:"Cancel"}),(0,y.jsx)(c.Z,{variant:"",className:"w-50 rounded-pill save-btn",type:"submit",disabled:!(!pe&&void 0!==(null===me||void 0===me?void 0:me.id)),children:"Update"})]})]})]})})]}),ie&&(0,y.jsx)(S,{show:ie,onHide:function(e){e&&ue(),re(!1)}})]})}},3585:function(e,l,a){a.d(l,{CN:function(){return N},DB:function(){return m},FW:function(){return v},Hm:function(){return f},I$:function(){return c},L0:function(){return d},Ly:function(){return i},M_:function(){return x},V6:function(){return _},Xe:function(){return u},Y9:function(){return t},a7:function(){return o},fH:function(){return s},mm:function(){return g},nD:function(){return p},qb:function(){return b},sO:function(){return n},vm:function(){return h},w_:function(){return r}});var n="Yes",i="No",r="Pending",u="Published",t="Member News",o="Testimonials",s="Weekly Tips",d="Bonus Content",c=[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"}],v=[{value:"ALL",label:"All"},{value:"SUBSCRIBED",label:"Subscribed"},{value:"UNSUBCRIBED",label:"Unsubscribed"}],m=[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"}],b=[{value:0,label:"Draft"},{value:1,label:"Pending"},{value:2,label:"Published"}],f=[{value:"",label:""},{value:1,label:"Skillet/stovetop"},{value:2,label:"Slow cooker"},{value:3,label:"Broil/grill"},{value:4,label:"Baked"},{value:5,label:"Soup"},{value:7,label:"Stew"},{value:6,label:"Other"}],h=[{value:1,label:"Ascending"},{value:2,label:"Descending"}],p=[{value:1,label:"Main"},{value:2,label:"Side"},{value:3,label:"Dessert"}],g=[{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"},{value:7,label:"Sunday"}],_=[{label:"12:00 AM",value:"00:00"},{label:"12:30 AM",value:"00:30"},{label:"1:00 AM",value:"01:00"},{label:"1:30 AM",value:"01:30"},{label:"2:00 AM",value:"02:00"},{label:"2:30 AM",value:"02:30"},{label:"3:00 AM",value:"03:00"},{label:"3:30 AM",value:"03:30"},{label:"4:00 AM",value:"04:00"},{label:"4:30 AM",value:"04:30"},{label:"5:00 AM",value:"05:00"},{label:"5:30 AM",value:"05:30"},{label:"6:00 AM",value:"06:00"},{label:"6:30 AM",value:"06:30"},{label:"7:00 AM",value:"07:00"},{label:"7:30 AM",value:"07:30"},{label:"8:00 AM",value:"08:00"},{label:"8:30 AM",value:"08:30"},{label:"9:00 AM",value:"09:00"},{label:"9:30 AM",value:"09:30"},{label:"10:00 AM",value:"10:00"},{label:"10:30 AM",value:"10:30"},{label:"11:00 AM",value:"11:00"},{label:"11:30 AM",value:"11:30"},{label:"12:00 PM",value:"12:00"},{label:"12:30 PM",value:"12:30"},{label:"1:00 PM",value:"13:00"},{label:"1:30 PM",value:"13:30"},{label:"2:00 PM",value:"14:00"},{label:"2:30 PM",value:"14:30"},{label:"3:00 PM",value:"15:00"},{label:"3:30 PM",value:"15:30"},{label:"4:00 PM",value:"16:00"},{label:"4:30 PM",value:"16:30"},{label:"5:00 PM",value:"17:00"},{label:"5:30 PM",value:"17:30"},{label:"6:00 PM",value:"18:00"},{label:"6:30 PM",value:"18:30"},{label:"7:00 PM",value:"19:00"},{label:"7:30 PM",value:"19:30"},{label:"8:00 PM",value:"20:00"},{label:"8:30 PM",value:"20:30"},{label:"9:00 PM",value:"21:00"},{label:"9:30 PM",value:"21:30"},{label:"10:00 PM",value:"22:00"},{label:"10:30 PM",value:"22:30"},{label:"11:00 PM",value:"23:00"},{label:"11:30 PM",value:"23:30"}],x=[{added:!1,Name:"Mon",value:1},{added:!1,Name:"Tue",value:2},{added:!1,Name:"Wed",value:3},{added:!1,Name:"Thu",value:4},{added:!1,Name:"Fri",value:5},{added:!1,Name:"Sat",value:6},{added:!1,Name:"Sun",value:7}],N=[{value:1,label:"Daily",interval:"day",interval_count:1},{value:2,label:"Weekly",interval:"day",interval_count:7},{value:3,label:"Monthly",interval:"month",interval_count:1},{value:4,label:"Every 3 Months",interval:"month",interval_count:3},{value:5,label:"Every 6 Months",interval:"month",interval_count:6},{value:6,label:"Yearly",interval:"year",interval_count:1}]},6504:function(e,l,a){a.d(l,{HU:function(){return d},IZ:function(){return t},KZ:function(){return o},Os:function(){return r},T_:function(){return u},h$:function(){return i},qZ:function(){return n},y9:function(){return s}});var n={name:"",plural_name:"",shopping_name:"",shopping_plural_name:"",search_term:"",esha_id:"",status:"",shopping_category:"",shopping_measurement_id:"",tier:"",shopping_sort_order:0,is_staple:0,category_ids:"",tag_names:"",ingredient_category_name:""},i={name:"",shopping_list_sub_header:"",wordpress_name:"",external_url:"",external_url_tooltip:"",order_with_peapod:"",week_menu_generation_day:1,week_menu_generation_time:"00:00",week_menu_publishing_day:1,week_menu_publishing_time:"00:00",sale_period_start:1,sale_period_end:1,order_with_peapod_demo_url:""},r={name:"",dish_type:1,number_of_sides:0,recipe_group_id:"",cooking_type:"",tag_names:"",number_of_servings:0,preparation_time:"0",cooking_time:"0",calories:"0",fats:"0",saturated_fats:"0",sodium:"0",carbs:"0",fiber:"0",protein:"0",status:0,is_tested:!1,is_ok_for_half:!1,alt_instructions:"",alt_half_instructions:"",half_instructions:"",instructions:"",do_ahead:"",corner_note:"",additional_note:""},u={measurmentId:"",amount:"0",preparation:"",is_optional:"0",is_round_up_for_half_family_size:"1"},t={title:"",content:"",user_group:"ALL",notification_repeat:0,notification_date:"",notification_time:""},o={name:"",recurring:4,amount:""},s={firstSide:"",secondSide:""},d={title:"",content:""}},2592:function(e,l,a){var n=a(1413),i=a(5987),r=a(1694),u=a.n(r),t=a(2791),o=a(2007),s=a.n(o),d=a(162),c=a(184),v=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],m=(s().string,s().bool,s().bool,s().bool,s().bool,t.forwardRef((function(e,l){var a=e.bsPrefix,r=e.className,t=e.fluid,o=void 0!==t&&t,s=e.rounded,m=void 0!==s&&s,b=e.roundedCircle,f=void 0!==b&&b,h=e.thumbnail,p=void 0!==h&&h,g=(0,i.Z)(e,v);return a=(0,d.vE)(a,"img"),(0,c.jsx)("img",(0,n.Z)((0,n.Z)({ref:l},g),{},{className:u()(r,o&&"".concat(a,"-fluid"),m&&"rounded",f&&"rounded-circle",p&&"".concat(a,"-thumbnail"))}))})));m.displayName="Image",l.Z=m}}]);
//# sourceMappingURL=517.5010c2e2.chunk.js.map